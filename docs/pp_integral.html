<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.6.1 on Tue May 16 12:42:25 2017 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>pp_integral.pro (Documentation for pp_lib)</title>

    

    <script type="text/javascript" src="idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="idldoc-resources/js/copybutton.js"></script>

    
    <style type="text/css" media="all">
            /* setup page */
      body { font-family: Helvetica, sans-serif; font-size: 12pt; margin: 0; padding: 0; }
      div.content { padding: 1em; }
      p { line-height: 1.4; }
      td p { padding-bottom: 0.5em; }
      img { border: 0; }
      
      /* link styles */
      a { text-decoration: none; }
      a:link, a:visited { color: #0000FF; }
      a:hover, a:focus { background: yellow; border-bottom: 1emx dotted #303099; }
      
      /* dir-overview styles */
      dt.filename { margin-top: 0.5em; }
      dl.file_listing { margin-left: 1em; }
      
      /* titles */
      h1, h2, h3, h4 { font-weight:normal; color: #871E31; margin-top: 1.5em; }
      h4 { margin-bottom: 0.25em; }
      .center { margin-left: auto; margin-right: auto; }
      .small { font-family: Verdana, Helvetica, sans-serif; font-size: 90%; }
      .smaller { font-family: Verdana, Helvetica, sans-serif; font-size: 80%; }
      .smallest { font-family: Verdana, Helvetica, sans-serif; font-size: 70%; }
      h1.basename { margin-top: 0; margin-bottom: 0; }
      h1.basename span.file-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      h2.directory { font-size: 90%; margin-bottom: 0; }
      h2.routine-name { margin-top: 0; margin-bottom: 0; }
      p.categories { color: #384806; margin-top: 0; }
      span.file_attribute { float: right; color: #384806; margin: 0 0 1em 3em; }
      div#file_comments { margin-top: 1em; }
      
      div.routine-details { border: 1px dotted #C0C0C0; margin-top: 1em; padding: 1em; }
      span.routine-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      div.details dt { color: #871E31; margin-left: 2em; }
      div.details dt span { color: #384806; margin-left: 2em; }
      div.details dd { margin: 0.5em 2em 1em 4em; }
      a.top {
        font-family: Verdana, Helvetica, sans-serif;
        font-size: 8pt;
        font-weight: bold;
        color: #5070ff;
        text-transform: uppercase;
        float: right;
        margin-left: 1em;
      }
      
      /* comments */
      .pre { white-space: pre; }
      
      /* code styles */
      code { font-family: Monaco, "Courier New", Courier, monospace; font-size: 95%; }
      code.listing { white-space: pre; display: block; margin: 0.75em 0 0.75em 0; padding: 0 3em 0 1em; line-height: 1.4em; }
      code.source { white-space: pre; display: block; }
      code.source span.comments { color: #408080; }
      .syntax { margin-top: 1em; margin-left: 1.5em; text-indent: -1.5em; }
      .var { font-style: italic; }
      .argument { } /* white-space: nowrap; does not work in Safari (and sometimes not even in Firefox) */
      
      dl.routine-summary dt { margin-bottom: 0.25em; }
      dl.routine-summary dd { margin-bottom: 0.5em; margin-left: 2em; }
      
      ul.inherited-method-summary { padding-left: 0em; margin-left: 0em; }
      
      /* general styles */
      ul li { list-style-type: none; }
      table { empty-cells: show; }
      thead { color: #871E31; }
      dd { margin-bottom: 0.35em; }
      input, textarea { background: #F3F6ED; border: #E1D6C6 1px solid; padding: 2px 1em 2px 0.5em; }
      input.text { background: #FFFFC0; }
      
      div.note { margin: 1em 2em 1em 2em; background: #EFEFEF; border: 1px #A0A0A0 dotted; padding: 0 1em 0 1em; }
      p.indent { margin-left: 2em; }
      
      /* An attribute table is a vertical list of name-value pairs. */
      table.box {
        background: #EFEFEF;
        border: 1px #A0A0A0 dotted;
        padding-top: 0.75em;
        padding-bottom: 0.75em;
      }
      table.attribute { padding-left: 0.75em; padding-right: 0.75em; }
      table td { vertical-align: top; }
      table.attribute p { margin: 0; }
      table td.name { font-style: normal; padding-right: 1.5em; }
      ul.fieldslist { padding-top: 0; color: #909090; }
      ul.fieldslist li { margin-bottom: 0.25em; }
      span.fieldname { color: #000000; }
      
      dl.attribute dt { color: #990000; }
      
      /* header/navbar styles */
      div.header { padding: 2em 2em 0 2em; background: #9E9D7B; border-bottom: 2px #262626 solid; }
      div.header h1 { color: white; margin:0; font-weight: normal; }
      div.header h2 { color: white; margin-top: 0; margin-bottom: 1em; font-weight: normal; font-style: italic; font-size: 100%; }
      table.navbar { background: #CCC097; margin: 0; padding: 0; border-bottom: 1px #262626 dotted; width: 100%; }
      table.navbar td { padding: 4px 0.5em 3px 0.5em; white-space: nowrap; vertical-align: top; }
      table.navbar td.flexible { width: 100%; text-align: right; padding-right: 1em; white-space: nowrap; }
      table.navbar td.selected { background: #262626; }
      table.navbar td.selected, table.navbar td.selected a { color: white; }
      table.navbar a:hover, table.navbar a:focus { background: inherit; border-bottom: 1px solid #303099; }
      p.localnavbar { text-align: right; margin: 0.2em 1em 0.2em 0.2em; padding: 0; }
      
      /* CSS graphics styles */
      div.box {
        margin-left: 0.25em;
        display: inline-block;
        width: 0.9em;
        height: 0.9em;
        vertical-align: -1px;
      }
      .red { background-color: #A00; }
      .orange { background-color: #F40; }
      .green { background-color: #480; }
      
      /* index styles */
      span.index_type { margin-left: 1em; }
      dl.index_listing dd { margin-bottom: 0.5em; margin-left: 2em; }
      dl.index_listing dd p { margin-top: 0.2em; margin-bottom: 0em; }
      
      /* search styles */
      fieldset { border: #ddd 1px solid; padding: 1em; margin-top: 3em; }
      legend { color: #871E31; font-size: 120%; }
      label { white-space: nowrap; }
      p.description { margin: 2em 2em 1em 2em; }
      form table td.name { vertical-align: middle; }
      
      /* footer styles */
      div.footer { padding: 0.5em 1em 0.5em 1em; background: #EFEFEF; border-top: 1px #A0A0A0 dotted; }
      div.footer table { width: 100%; }
      div.footer td.right { text-align: right; }

    </style>
    <style type="text/css" media="print">
            p.localnavbar { display: none; }
      
      div.header { background: white; }
      div.header h1 { color: black; }
      div.header h2 { color: black; }

    </style>
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="pp_integral.pro (Documentation for pp_lib)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for pp_lib</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="pp_integral-code.html" title="Chromocoded source">Source</a> <a href="pp_integral.pro" title=".pro file"><img src="idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
          <a href="categories.html">Categories</a>
        </td>
    
        <td >
          <a href="search.html">Search</a>
        </td>
    
        
        <td >
          <a href="idldoc-index.html">Index</a>
        </td>
        
    
        
        <td >
          <a href="idldoc-warnings.html">Warnings</a>
        </td>
        
    
        <td >
          <a href="idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          Developer documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">./</h2>
      <h1 class="basename">pp_integral.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      
      <div>
        <h2>Routines</h2>
        

      

      

      
      </div>
      

      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="pp_integral">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="pp_integral-code.html#pp_integral:source" class="top">source</a> pp_integral<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code><span class="var">result</span> = pp_integral(<span class="argument"><a href="#pp_integral:p:x">x</a></span><span class="argument">, <a href="#pp_integral:p:y">y</a></span><span class="argument"> [, <a href="#pp_integral:k:xmin">xmin</a>=<span class="var">xmin</span>]</span><span class="argument"> [, <a href="#pp_integral:k:xmax">xmax</a>=<span class="var">xmax</span>]</span><span class="argument"> [, <a href="#pp_integral:k:cumulative">cumulative</a>=<span class="var">cumulative</span>]</span><span class="argument"> [, <a href="#pp_integral:k:xinc">xinc</a>=<span class="var">xinc</span>]</span><span class="argument"> [, <a href="#pp_integral:k:yinc">yinc</a>=<span class="var">yinc</span>]</span><span class="argument"> [, <a href="#pp_integral:k:xstart">xstart</a>=<span class="var">xstart</span>]</span><span class="argument"> [, <a href="#pp_integral:k:xend">xend</a>=<span class="var">xend</span>]</span><span class="argument"> [, <a href="#pp_integral:k:xbox">xbox</a>=<span class="var">xbox</span>]</span><span class="argument"> [, <a href="#pp_integral:k:ybox">ybox</a>=<span class="var">ybox</span>]</span><span class="argument"> [, <a href="#pp_integral:k:newton">newton</a>=<span class="var">newton</span>]</span><span class="argument"> [, <a href="#pp_integral:k:local">local</a>=<span class="var">local</span>]</span><span class="argument"> [, <a href="#pp_integral:k:lsquadratic">lsquadratic</a>=<span class="var">lsquadratic</span>]</span><span class="argument"> [, <a href="#pp_integral:k:quadratic">quadratic</a>=<span class="var">quadratic</span>]</span><span class="argument"> [, <a href="#pp_integral:k:spline">spline</a>=<span class="var">spline</span>]</span>)</code></p>

          
          <div ><p>    Calculates the area under the y(x) curve provided. The function must be ordered in x, but it does not
    matter whether the order is increasing or decreasing.
</p>

<p>    There are two possible ways that the input function is interpreted, determined by the keyword local.
    See the description of local below, since it may significantly alter the result.
</p>

<p>    If the method selected requires interpolation, it can be linear, 3 or 4-point quadratic, or spline. This is determined
    by setting the quadratic, lsquadratic, or spline keywords (linear if none of these 3 keywords is set).
</p>

<p></p>

</div>
          

          
          <h3>Return value</h3>
            <div class="small"><p>    If xmin and xmax are not provided, returns the area under the curve over its whole extension.
</p>

<p>    If xmin and xmax are scalars, returns the area between these x values. If they are arrays of n elements,
    returns the n areas, calculated starting at each xmin element, and ending at the corresponding xmax element.
</p>

<p>    Every value in xmax is must be larger than or equal to the correspoinding value in xmin.
</p>

<p></p>

</div>
          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="pp_integral:p:x">x <span class="smaller">in required </span></dt>
              <dd class="small"><p>      An array of locations where the function is sampled. Must be ordered (increasing or decreasing).
</p>

</dd>
              
              <dt id="pp_integral:p:y">y <span class="smaller">in required </span></dt>
              <dd class="small"><p>      An array with the function values corresponding to the locations in x.
</p>

</dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="pp_integral:k:xmin">xmin <span class="smaller">in out optional </span></dt>
              <dd class="small"><p>      A scalar or array with the start of the range(s) where the area is to be calculated. If not provided,
      the minimum location of the function is used. Must have the same number of elements as xmax, and every
      element in xmin must be smaller than or equal to the corresponding element in xmax. If any value of xmin
      is smaller than the beginning of the x range, it is clipped to the beginning.
</p>

</dd>
              
              <dt id="pp_integral:k:xmax">xmax <span class="smaller">in out optional </span></dt>
              <dd class="small"><p>      A scalar or array with the end of the range(s) where the area is to be calculated. If not provided,
      the maximum location of the function is used. Must have the same number of elements as xmin, and every
      element in xmax must be larger than or equal to the corresponding element in xmin. If any value of xmax
      is larger than the end of the x range, it is clipped to the end.
</p>

</dd>
              
              <dt id="pp_integral:k:cumulative">cumulative <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      If set, and xmin and xmax are not provided, the areas returned are the cumulative areas at the end of each x point,
      starting at the first x point. If xmax and xmin are provided, this keyword is ignored.
</p>

</dd>
              
              <dt id="pp_integral:k:xinc">xinc <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      Returns the x values, in increasing order.
</p>

</dd>
              
              <dt id="pp_integral:k:yinc">yinc <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      Returns the y values, in order of increasing x.
</p>

</dd>
              
              <dt id="pp_integral:k:xstart">xstart <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      If local is not set, returns the location where each input pixel starts. If local is set, this is ignored.
</p>

</dd>
              
              <dt id="pp_integral:k:xend">xend <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      If local is not set, returns the location where each input pixel ends. If local is set, this is ignored.
</p>

</dd>
              
              <dt id="pp_integral:k:xbox">xbox <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      Used when not in local mode, to return the input x values in pairs of equal values, so that
      plotting xbox,ybox shows the rectangles that are how the input values were interpreted.
</p>

</dd>
              
              <dt id="pp_integral:k:ybox">ybox <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      Used when not in local mode, to return the input y values in pairs of equal values, so that
      plotting xbox,ybox shows the rectangles that are how the input values were interpreted.
</p>

</dd>
              
              <dt id="pp_integral:k:newton">newton <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      If local is set and newton is set, the function integrations are done with int_tabulated, which
      uses a 5 point Newton-Cotes formula. If not set, trapezoid integration is done. If local is not set, this has no effect.
</p>

</dd>
              
              <dt id="pp_integral:k:local">local <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      Determines how the input function is interpreted, which determines how the areas are calculated. If set, the function is
      interpreted literally, that is, as in a simple mathematical function: the y values are the local evaluation y(x).
</p>

<p>      If not set, the y values are interpreted as a measured sample, that is, as the average of the "flux" falling inside the region
      centered at the corresponding x values: x locations are interpreted as the centers of bins. Since this interpretation is equivalent
      to a literal interpretation of a function made of rectangular regions, in this method there are no interpolations (partial areas, if
      any, are just the corresponding fractions of the rectangles).
</p>

</dd>
              
              <dt id="pp_integral:k:lsquadratic">lsquadratic <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      If the method requires interpolation, this is passed on to interpol, to select 4 point quadratic interpolation.
</p>

<p>      If none of lsquadratic, quadratic and spline are set, interpolation is linear.
</p>

</dd>
              
              <dt id="pp_integral:k:quadratic">quadratic <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      If the method requires interpolation, this is passed on to interpol, to select 3 point quadratic interpolation.
</p>

<p>      If none of lsquadratic, quadratic and spline are set, interpolation is linear.
</p>

</dd>
              
              <dt id="pp_integral:k:spline">spline <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      If the method requires interpolation, this is passed on to interpol, to select spline interpolation.
</p>

<p>      If none of lsquadratic, quadratic and spline are set, interpolation is linear.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Examples</h3>
          <div><p>   Make up a simple constant function to show the difference between local and non-local modes:
<div><div><code class="listing"><span class="code-output"> x=[0d0,1d0]</span>
<span class="code-output"> y=[2d0,2d0]</span>
<span class="code-output"> print,pp_integral(x,y,xmin=xmin,xmax=xmax)</span>
<span class="code-output"> ;4.0000000</span>
<span class="code-output"> print,xmin,xmax</span>
<span class="code-output"> ;-0.50000000       1.5000000</span>
<span class="code-output"> ;(the x locations are considered the middle of the bins, so the bins extend beyond the range min(x),max(x))</span>
<span class="code-output"> print,pp_integral(x,y,xmin=lxmin,xmax=lxmax,/local)</span>
<span class="code-output"> ;2.0000000</span>
<span class="code-output"> print,lxmin,lxmax</span>
<span class="code-output"> ;0.0000000       1.0000000</span>
</code></div></div>   Make up a well sampled function, so that the difference between local and non-local is small:
<div><div><code class="listing"><span class="code-output"> x=dindgen(10001)*!dpi/1d4</span>
<span class="code-output"> y=sin(x)</span>
<span class="code-output"> a=pp_integral(x,y,xmin=[0d0,0d0],xmax=!dpi*[0.5d0,1d0])</span>
<span class="code-output"> b=pp_integral(x,y,xmin=[0d0,0d0],xmax=!dpi*[0.5d0,1d0],/local)</span>
<span class="code-output"> print,a</span>
<span class="code-output"> ;1.0003142       2.0000000</span>
<span class="code-output"> print,b</span>
<span class="code-output"> ;1.0000000       2.0000000</span>
<span class="code-output"> print,a-b</span>
<span class="code-output"> ;0.00031410992  -4.9348009e-08</span>


</code></div></div></p>

</div>
          

          
          <h3>Author information</h3>

            <dl class="attribute small" summary="Routine author information">
              
                <dt>Author:</dt>
                <dd><p>Paulo Penteado (pp.penteado@gmail.com), Feb/2010
</p>

</dd>
              

              

              

              
            </dl>
          

          

          
          <h3>Statistics</h3>

            <table class="attribute small" summary="Routine statistics">
              <tr>
                <td class="name">Lines:</td>
                <td><div class="box green"></div> 73 lines</td>
              </tr>

              <tr>
                <td class="name">Cyclomatic complexity:</td>
                <td><div class="box red"></div> 23</td>
                <tr>
                  <td class="name">Modified cyclomatic complexity:</td>
                  <td><div class="box red"></div> 23</td>
              </tr>
            </table>
          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Wed Jun 29 22:15:28 2016</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>73</td>
          </tr>

          
          <tr>
            <td class="name">Docformat:</td>
            <td>rst rst</td>
          </tr>
          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.6.1 on Tue May 16 12:42:25 2017</td>
          <td class="right"><a target="_top" href="http://github.com/mgalloy/idldoc">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>