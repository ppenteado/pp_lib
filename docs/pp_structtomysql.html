<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.6.1 on Tue May 16 12:42:27 2017 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>pp_structtomysql.pro (Documentation for pp_lib)</title>

    

    <script type="text/javascript" src="idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="idldoc-resources/js/copybutton.js"></script>

    
    <style type="text/css" media="all">
            /* setup page */
      body { font-family: Helvetica, sans-serif; font-size: 12pt; margin: 0; padding: 0; }
      div.content { padding: 1em; }
      p { line-height: 1.4; }
      td p { padding-bottom: 0.5em; }
      img { border: 0; }
      
      /* link styles */
      a { text-decoration: none; }
      a:link, a:visited { color: #0000FF; }
      a:hover, a:focus { background: yellow; border-bottom: 1emx dotted #303099; }
      
      /* dir-overview styles */
      dt.filename { margin-top: 0.5em; }
      dl.file_listing { margin-left: 1em; }
      
      /* titles */
      h1, h2, h3, h4 { font-weight:normal; color: #871E31; margin-top: 1.5em; }
      h4 { margin-bottom: 0.25em; }
      .center { margin-left: auto; margin-right: auto; }
      .small { font-family: Verdana, Helvetica, sans-serif; font-size: 90%; }
      .smaller { font-family: Verdana, Helvetica, sans-serif; font-size: 80%; }
      .smallest { font-family: Verdana, Helvetica, sans-serif; font-size: 70%; }
      h1.basename { margin-top: 0; margin-bottom: 0; }
      h1.basename span.file-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      h2.directory { font-size: 90%; margin-bottom: 0; }
      h2.routine-name { margin-top: 0; margin-bottom: 0; }
      p.categories { color: #384806; margin-top: 0; }
      span.file_attribute { float: right; color: #384806; margin: 0 0 1em 3em; }
      div#file_comments { margin-top: 1em; }
      
      div.routine-details { border: 1px dotted #C0C0C0; margin-top: 1em; padding: 1em; }
      span.routine-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      div.details dt { color: #871E31; margin-left: 2em; }
      div.details dt span { color: #384806; margin-left: 2em; }
      div.details dd { margin: 0.5em 2em 1em 4em; }
      a.top {
        font-family: Verdana, Helvetica, sans-serif;
        font-size: 8pt;
        font-weight: bold;
        color: #5070ff;
        text-transform: uppercase;
        float: right;
        margin-left: 1em;
      }
      
      /* comments */
      .pre { white-space: pre; }
      
      /* code styles */
      code { font-family: Monaco, "Courier New", Courier, monospace; font-size: 95%; }
      code.listing { white-space: pre; display: block; margin: 0.75em 0 0.75em 0; padding: 0 3em 0 1em; line-height: 1.4em; }
      code.source { white-space: pre; display: block; }
      code.source span.comments { color: #408080; }
      .syntax { margin-top: 1em; margin-left: 1.5em; text-indent: -1.5em; }
      .var { font-style: italic; }
      .argument { } /* white-space: nowrap; does not work in Safari (and sometimes not even in Firefox) */
      
      dl.routine-summary dt { margin-bottom: 0.25em; }
      dl.routine-summary dd { margin-bottom: 0.5em; margin-left: 2em; }
      
      ul.inherited-method-summary { padding-left: 0em; margin-left: 0em; }
      
      /* general styles */
      ul li { list-style-type: none; }
      table { empty-cells: show; }
      thead { color: #871E31; }
      dd { margin-bottom: 0.35em; }
      input, textarea { background: #F3F6ED; border: #E1D6C6 1px solid; padding: 2px 1em 2px 0.5em; }
      input.text { background: #FFFFC0; }
      
      div.note { margin: 1em 2em 1em 2em; background: #EFEFEF; border: 1px #A0A0A0 dotted; padding: 0 1em 0 1em; }
      p.indent { margin-left: 2em; }
      
      /* An attribute table is a vertical list of name-value pairs. */
      table.box {
        background: #EFEFEF;
        border: 1px #A0A0A0 dotted;
        padding-top: 0.75em;
        padding-bottom: 0.75em;
      }
      table.attribute { padding-left: 0.75em; padding-right: 0.75em; }
      table td { vertical-align: top; }
      table.attribute p { margin: 0; }
      table td.name { font-style: normal; padding-right: 1.5em; }
      ul.fieldslist { padding-top: 0; color: #909090; }
      ul.fieldslist li { margin-bottom: 0.25em; }
      span.fieldname { color: #000000; }
      
      dl.attribute dt { color: #990000; }
      
      /* header/navbar styles */
      div.header { padding: 2em 2em 0 2em; background: #9E9D7B; border-bottom: 2px #262626 solid; }
      div.header h1 { color: white; margin:0; font-weight: normal; }
      div.header h2 { color: white; margin-top: 0; margin-bottom: 1em; font-weight: normal; font-style: italic; font-size: 100%; }
      table.navbar { background: #CCC097; margin: 0; padding: 0; border-bottom: 1px #262626 dotted; width: 100%; }
      table.navbar td { padding: 4px 0.5em 3px 0.5em; white-space: nowrap; vertical-align: top; }
      table.navbar td.flexible { width: 100%; text-align: right; padding-right: 1em; white-space: nowrap; }
      table.navbar td.selected { background: #262626; }
      table.navbar td.selected, table.navbar td.selected a { color: white; }
      table.navbar a:hover, table.navbar a:focus { background: inherit; border-bottom: 1px solid #303099; }
      p.localnavbar { text-align: right; margin: 0.2em 1em 0.2em 0.2em; padding: 0; }
      
      /* CSS graphics styles */
      div.box {
        margin-left: 0.25em;
        display: inline-block;
        width: 0.9em;
        height: 0.9em;
        vertical-align: -1px;
      }
      .red { background-color: #A00; }
      .orange { background-color: #F40; }
      .green { background-color: #480; }
      
      /* index styles */
      span.index_type { margin-left: 1em; }
      dl.index_listing dd { margin-bottom: 0.5em; margin-left: 2em; }
      dl.index_listing dd p { margin-top: 0.2em; margin-bottom: 0em; }
      
      /* search styles */
      fieldset { border: #ddd 1px solid; padding: 1em; margin-top: 3em; }
      legend { color: #871E31; font-size: 120%; }
      label { white-space: nowrap; }
      p.description { margin: 2em 2em 1em 2em; }
      form table td.name { vertical-align: middle; }
      
      /* footer styles */
      div.footer { padding: 0.5em 1em 0.5em 1em; background: #EFEFEF; border-top: 1px #A0A0A0 dotted; }
      div.footer table { width: 100%; }
      div.footer td.right { text-align: right; }

    </style>
    <style type="text/css" media="print">
            p.localnavbar { display: none; }
      
      div.header { background: white; }
      div.header h1 { color: black; }
      div.header h2 { color: black; }

    </style>
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="pp_structtomysql.pro (Documentation for pp_lib)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for pp_lib</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="pp_structtomysql-code.html" title="Chromocoded source">Source</a> <a href="pp_structtomysql.pro" title=".pro file"><img src="idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
          <a href="categories.html">Categories</a>
        </td>
    
        <td >
          <a href="search.html">Search</a>
        </td>
    
        
        <td >
          <a href="idldoc-index.html">Index</a>
        </td>
        
    
        
        <td >
          <a href="idldoc-warnings.html">Warnings</a>
        </td>
        
    
        <td >
          <a href="idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          Developer documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">./</h2>
      <h1 class="basename">pp_structtomysql.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      
      <h2>Author information</h2>

        <dl class="attribute small" summary="File author information">
          
            <dt>Author</dt>
            <dd><p>Paulo Penteado (http://www.ppenteado.net), Apr/2015
</p>

</dd>
          

          

          

          
        </dl>
      

      

      

      
      <div>
        <h2>Routines</h2>
        

      

      
        <h3>Routines from pp_structtomysql.pro</h3>
        <dl class="routine-summary">
          
            <dt class="syntax"><a href="#pp_structtomysql__typename"><code><span class="var">result</span> = pp_structtomysql__typename(<span class="argument">var</span><span class="argument"> [, minlen=<span class="var">minlen</span>]</span><span class="argument"> [, maxlen=<span class="var">maxlen</span>]</span>)</code></a></dt>
            <dd class="small"><p>    Helper function, to return the mysql variable type corresponding to an IDL    variable type.</p>

</dd>
          
            <dt class="syntax"><a href="#pp_structtomysql"><code>pp_structtomysql<span class="argument">, struct</span><span class="argument">, tablename</span><span class="argument">, dbname=<span class="var">string</span></span><span class="argument"> [, username=<span class="var">string</span>]</span><span class="argument"> [, verbose=<span class="var">verbose</span>]</span><span class="argument"> [, primary_key=<span class="var">string</span>]</span><span class="argument"> [, nodeletecsv=<span class="var">nodeletecsv</span>]</span><span class="argument"> [, nodroptable=<span class="var">nodroptable</span>]</span><span class="argument"> [, generate_code_only=<span class="var">generate_code_only</span>]</span></code></a></dt>
            <dd class="small"><p>    Creates a table in a mysql server, from an IDL array of structures.</p>

</dd>
          
        </dl>
      

      
      </div>
      

      
      <div id="routine-details">
        <h2>Routine details</h2>

        
        <div class="routine-details details" id="pp_structtomysql__typename">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="pp_structtomysql-code.html#pp_structtomysql__typename:source" class="top">source</a> pp_structtomysql__typename<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code><span class="var">result</span> = pp_structtomysql__typename(<span class="argument"><a href="#pp_structtomysql__typename:p:var">var</a></span><span class="argument"> [, <a href="#pp_structtomysql__typename:k:minlen">minlen</a>=<span class="var">minlen</span>]</span><span class="argument"> [, <a href="#pp_structtomysql__typename:k:maxlen">maxlen</a>=<span class="var">maxlen</span>]</span>)</code></p>

          
          <div ><p>    Helper function, to return the mysql variable type corresponding to an IDL
    variable type.
</p>

<p></p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="pp_structtomysql__typename:p:var">var <span class="smaller">in required </span></dt>
              <dd class="small"><p>      The IDL variable whose mysql type is desired.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="pp_structtomysql__typename:k:minlen">minlen <span class="smaller">in optional </span></dt>
              <dd class="small"><p>      If the type is a string, by default the mysql type will have the length of
      the longest string in <a href="./pp_structtomysql.html#pp_structtomysql__typename:p:var"><code>var</code></a>. If minlen is provided, the mysql length will be
      the greatest among minlen and the longest string in <a href="./pp_structtomysql.html#pp_structtomysql__typename:p:var"><code>var</code></a>.
</p>

</dd>
              
              <dt id="pp_structtomysql__typename:k:maxlen">maxlen <span class="smaller">in optional </span></dt>
              <dd class="small"><p>      If the type is a string, by default the mysql type will have the length of
      the longest string in <a href="./pp_structtomysql.html#pp_structtomysql__typename:p:var"><code>var</code></a>. If maxlen is provided, the mysql length will be
      the smallest among maxlen and the longest string in <a href="./pp_structtomysql.html#pp_structtomysql__typename:p:var"><code>var</code></a>.
</p>

<p></p>

</dd>
              
            </dl>
          

          

          
          <h3>Author information</h3>

            <dl class="attribute small" summary="Routine author information">
              
                <dt>Author:</dt>
                <dd><p>Paulo Penteado (http://www.ppenteado.net), Apr 2015
</p>

</dd>
              

              

              

              
            </dl>
          

          

          
          <h3>Statistics</h3>

            <table class="attribute small" summary="Routine statistics">
              <tr>
                <td class="name">Lines:</td>
                <td><div class="box green"></div> 26 lines</td>
              </tr>

              <tr>
                <td class="name">Cyclomatic complexity:</td>
                <td><div class="box orange"></div> 14</td>
                <tr>
                  <td class="name">Modified cyclomatic complexity:</td>
                  <td><div class="box green"></div> 4</td>
              </tr>
            </table>
          

        </div>
        
        <div class="routine-details details" id="pp_structtomysql">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="pp_structtomysql-code.html#pp_structtomysql:source" class="top">source</a> pp_structtomysql<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>pp_structtomysql<span class="argument">, <a href="#pp_structtomysql:p:struct">struct</a></span><span class="argument">, <a href="#pp_structtomysql:p:tablename">tablename</a></span><span class="argument">, <a href="#pp_structtomysql:k:dbname">dbname</a>=<span class="var">string</span></span><span class="argument"> [, <a href="#pp_structtomysql:k:username">username</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#pp_structtomysql:k:verbose">verbose</a>=<span class="var">verbose</span>]</span><span class="argument"> [, <a href="#pp_structtomysql:k:primary_key">primary_key</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#pp_structtomysql:k:nodeletecsv">nodeletecsv</a>=<span class="var">nodeletecsv</span>]</span><span class="argument"> [, <a href="#pp_structtomysql:k:nodroptable">nodroptable</a>=<span class="var">nodroptable</span>]</span><span class="argument"> [, <a href="#pp_structtomysql:k:generate_code_only">generate_code_only</a>=<span class="var">generate_code_only</span>]</span></code></p>

          
          <div ><p>    Creates a table in a mysql server, from an IDL array of structures.
    Each element of the array becomes a row in the table. The column names are
    the structure field names, with a '_' appended (to avoid mysql reserved words).
    The mysql server information (address, login, password, etc) is taken from ~/.my.conf.
    This is handled by Marc Buie's <code>openmysql</code>
    (<a href="http://www.boulder.swri.edu/~buie/idl/pro/openmysql.html">http://www.boulder.swri.edu/~buie/idl/pro/openmysql.html</a>).
</p>

<p></p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="pp_structtomysql:p:struct">struct <span class="smaller">in required </span></dt>
              <dd class="small"><p>      The structure containing the data to be inserted in the mysql table.
</p>

</dd>
              
              <dt id="pp_structtomysql:p:tablename">tablename <span class="smaller">in required type=string </span></dt>
              <dd class="small"><p>      The name of the table to be created.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="pp_structtomysql:k:dbname">dbname <span class="smaller">in required type=string </span></dt>
              <dd class="small"><p>      The name of the database where the table is to be created.
</p>

</dd>
              
              <dt id="pp_structtomysql:k:username">username <span class="smaller">in optional type=string </span></dt>
              <dd class="small"><p>      The username to use in mysql. Defaults to the current user.
</p>

</dd>
              
              <dt id="pp_structtomysql:k:verbose">verbose <span class="smaller">in optional </span></dt>
              <dd class="small"><p>      If set, the mysql commands get printed to the terminal.
</p>

</dd>
              
              <dt id="pp_structtomysql:k:primary_key">primary_key <span class="smaller">in optional type=string </span></dt>
              <dd class="small"><p>      If set, determines which key will be the table's primary key.
</p>

</dd>
              
              <dt id="pp_structtomysql:k:nodeletecsv">nodeletecsv <span class="smaller">in optional </span></dt>
              <dd class="small"><p>      During injection, the data is put into a csv file in the current directory
      (pp_structtomysql_tmpfile.csv). If this keyword is set, the file is not deleted
      at the end.
</p>

</dd>
              
              <dt id="pp_structtomysql:k:nodroptable">nodroptable <span class="smaller">in optional </span></dt>
              <dd class="small"><p>      By default, if the table to be created already exists, it is dropped, then
      created with the data provided. If this keyword is set, dropping the table is
      skipped, and this procedure will just attempt to insert the data into the table.
</p>

<p></p>

</dd>
              
              <dt id="pp_structtomysql:k:generate_code_only">generate_code_only <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      If provided, this variable will contain a string array with the commands that
      would have been issued to mysql. No mysql commands are executed.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Examples</h3>
          <div><p>   Create a table in a mysql server (server parameters set in ~/.my.conf), then retrieve
   the data from it. In this case, assuming that there is a database named pp_structtomysql,
   and that the user has write access to it:
<div><div><code class="listing"><span class="code-output"> outstruct=replicate({a:1,b:2d0,c:'def'},4)</span>
<span class="code-output"> outstruct.a=indgen(4)</span>
<span class="code-output"> outstruct.b=dindgen(4)^2</span>
<span class="code-output"> outstruct.c+='_'+strtrim(indgen(4),2)</span>
<span class="code-output"> print,outstruct</span>
<span class="code-output"> ;{       0       0.0000000 def_0}</span>
<span class="code-output"> ;{       1       1.0000000 def_1}</span>
<span class="code-output"> ;{       2       4.0000000 def_2}</span>
<span class="code-output"> ;{       3       9.0000000 def_3}</span>
<span class="code-output"> pp_structtomysql,outstruct,'pp_structtomysql_example',primary_key='c_',dbname='pp_structtomysql'</span>
<span class="code-output"> openmysql,lun,'pp_structtomysql'</span>
<span class="code-output"> instruct=pp_mysqlquery(lun,'select * from pp_structtomysql_example;')</span>
<span class="code-output"> print,instruct</span>
<span class="code-output"> ;{                     0                     0 def_0}</span>
<span class="code-output"> ;{                     1                     1 def_1}</span>
<span class="code-output"> ;{                     2                     4 def_2}</span>
<span class="code-output"> ;{                     3                     9 def_3}</span>
<span class="code-output"> free_lun,lun</span>
</code></div></div></p>

</div>
          

          
          <h3>Author information</h3>

            <dl class="attribute small" summary="Routine author information">
              
                <dt>Author:</dt>
                <dd><p>Paulo Penteado (http://www.ppenteado.net), Apr 2015
</p>

</dd>
              

              

              

              
            </dl>
          

          
          <h3>Other attributes</h3>

            <dl class="attribute small" summary="Other routine attributes">
              

              

              
                <dt>Requires:</dt>
                <dd><p><code>openmysql</code>, <code>mysqlquery</code>, from Marc Buie's library
 (<a href="http://www.boulder.swri.edu/~buie/idl/">http://www.boulder.swri.edu/~buie/idl/</a>).
</p>

<p></p>

</dd>
              

              

              

              

              

              
            </dl>
          

          
          <h3>Statistics</h3>

            <table class="attribute small" summary="Routine statistics">
              <tr>
                <td class="name">Lines:</td>
                <td><div class="box green"></div> 41 lines</td>
              </tr>

              <tr>
                <td class="name">Cyclomatic complexity:</td>
                <td><div class="box orange"></div> 13</td>
                <tr>
                  <td class="name">Modified cyclomatic complexity:</td>
                  <td><div class="box orange"></div> 13</td>
              </tr>
            </table>
          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Wed Jun 29 22:15:28 2016</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>67</td>
          </tr>

          
          <tr>
            <td class="name">Docformat:</td>
            <td>rst rst</td>
          </tr>
          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.6.1 on Tue May 16 12:42:28 2017</td>
          <td class="right"><a target="_top" href="http://github.com/mgalloy/idldoc">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>