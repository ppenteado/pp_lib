<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.6.1 on Tue May 16 12:42:26 2017 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>pp_parsetext.pro (Documentation for pp_lib)</title>

    

    <script type="text/javascript" src="idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="idldoc-resources/js/copybutton.js"></script>

    
    <style type="text/css" media="all">
            /* setup page */
      body { font-family: Helvetica, sans-serif; font-size: 12pt; margin: 0; padding: 0; }
      div.content { padding: 1em; }
      p { line-height: 1.4; }
      td p { padding-bottom: 0.5em; }
      img { border: 0; }
      
      /* link styles */
      a { text-decoration: none; }
      a:link, a:visited { color: #0000FF; }
      a:hover, a:focus { background: yellow; border-bottom: 1emx dotted #303099; }
      
      /* dir-overview styles */
      dt.filename { margin-top: 0.5em; }
      dl.file_listing { margin-left: 1em; }
      
      /* titles */
      h1, h2, h3, h4 { font-weight:normal; color: #871E31; margin-top: 1.5em; }
      h4 { margin-bottom: 0.25em; }
      .center { margin-left: auto; margin-right: auto; }
      .small { font-family: Verdana, Helvetica, sans-serif; font-size: 90%; }
      .smaller { font-family: Verdana, Helvetica, sans-serif; font-size: 80%; }
      .smallest { font-family: Verdana, Helvetica, sans-serif; font-size: 70%; }
      h1.basename { margin-top: 0; margin-bottom: 0; }
      h1.basename span.file-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      h2.directory { font-size: 90%; margin-bottom: 0; }
      h2.routine-name { margin-top: 0; margin-bottom: 0; }
      p.categories { color: #384806; margin-top: 0; }
      span.file_attribute { float: right; color: #384806; margin: 0 0 1em 3em; }
      div#file_comments { margin-top: 1em; }
      
      div.routine-details { border: 1px dotted #C0C0C0; margin-top: 1em; padding: 1em; }
      span.routine-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      div.details dt { color: #871E31; margin-left: 2em; }
      div.details dt span { color: #384806; margin-left: 2em; }
      div.details dd { margin: 0.5em 2em 1em 4em; }
      a.top {
        font-family: Verdana, Helvetica, sans-serif;
        font-size: 8pt;
        font-weight: bold;
        color: #5070ff;
        text-transform: uppercase;
        float: right;
        margin-left: 1em;
      }
      
      /* comments */
      .pre { white-space: pre; }
      
      /* code styles */
      code { font-family: Monaco, "Courier New", Courier, monospace; font-size: 95%; }
      code.listing { white-space: pre; display: block; margin: 0.75em 0 0.75em 0; padding: 0 3em 0 1em; line-height: 1.4em; }
      code.source { white-space: pre; display: block; }
      code.source span.comments { color: #408080; }
      .syntax { margin-top: 1em; margin-left: 1.5em; text-indent: -1.5em; }
      .var { font-style: italic; }
      .argument { } /* white-space: nowrap; does not work in Safari (and sometimes not even in Firefox) */
      
      dl.routine-summary dt { margin-bottom: 0.25em; }
      dl.routine-summary dd { margin-bottom: 0.5em; margin-left: 2em; }
      
      ul.inherited-method-summary { padding-left: 0em; margin-left: 0em; }
      
      /* general styles */
      ul li { list-style-type: none; }
      table { empty-cells: show; }
      thead { color: #871E31; }
      dd { margin-bottom: 0.35em; }
      input, textarea { background: #F3F6ED; border: #E1D6C6 1px solid; padding: 2px 1em 2px 0.5em; }
      input.text { background: #FFFFC0; }
      
      div.note { margin: 1em 2em 1em 2em; background: #EFEFEF; border: 1px #A0A0A0 dotted; padding: 0 1em 0 1em; }
      p.indent { margin-left: 2em; }
      
      /* An attribute table is a vertical list of name-value pairs. */
      table.box {
        background: #EFEFEF;
        border: 1px #A0A0A0 dotted;
        padding-top: 0.75em;
        padding-bottom: 0.75em;
      }
      table.attribute { padding-left: 0.75em; padding-right: 0.75em; }
      table td { vertical-align: top; }
      table.attribute p { margin: 0; }
      table td.name { font-style: normal; padding-right: 1.5em; }
      ul.fieldslist { padding-top: 0; color: #909090; }
      ul.fieldslist li { margin-bottom: 0.25em; }
      span.fieldname { color: #000000; }
      
      dl.attribute dt { color: #990000; }
      
      /* header/navbar styles */
      div.header { padding: 2em 2em 0 2em; background: #9E9D7B; border-bottom: 2px #262626 solid; }
      div.header h1 { color: white; margin:0; font-weight: normal; }
      div.header h2 { color: white; margin-top: 0; margin-bottom: 1em; font-weight: normal; font-style: italic; font-size: 100%; }
      table.navbar { background: #CCC097; margin: 0; padding: 0; border-bottom: 1px #262626 dotted; width: 100%; }
      table.navbar td { padding: 4px 0.5em 3px 0.5em; white-space: nowrap; vertical-align: top; }
      table.navbar td.flexible { width: 100%; text-align: right; padding-right: 1em; white-space: nowrap; }
      table.navbar td.selected { background: #262626; }
      table.navbar td.selected, table.navbar td.selected a { color: white; }
      table.navbar a:hover, table.navbar a:focus { background: inherit; border-bottom: 1px solid #303099; }
      p.localnavbar { text-align: right; margin: 0.2em 1em 0.2em 0.2em; padding: 0; }
      
      /* CSS graphics styles */
      div.box {
        margin-left: 0.25em;
        display: inline-block;
        width: 0.9em;
        height: 0.9em;
        vertical-align: -1px;
      }
      .red { background-color: #A00; }
      .orange { background-color: #F40; }
      .green { background-color: #480; }
      
      /* index styles */
      span.index_type { margin-left: 1em; }
      dl.index_listing dd { margin-bottom: 0.5em; margin-left: 2em; }
      dl.index_listing dd p { margin-top: 0.2em; margin-bottom: 0em; }
      
      /* search styles */
      fieldset { border: #ddd 1px solid; padding: 1em; margin-top: 3em; }
      legend { color: #871E31; font-size: 120%; }
      label { white-space: nowrap; }
      p.description { margin: 2em 2em 1em 2em; }
      form table td.name { vertical-align: middle; }
      
      /* footer styles */
      div.footer { padding: 0.5em 1em 0.5em 1em; background: #EFEFEF; border-top: 1px #A0A0A0 dotted; }
      div.footer table { width: 100%; }
      div.footer td.right { text-align: right; }

    </style>
    <style type="text/css" media="print">
            p.localnavbar { display: none; }
      
      div.header { background: white; }
      div.header h1 { color: black; }
      div.header h2 { color: black; }

    </style>
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="pp_parsetext.pro (Documentation for pp_lib)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for pp_lib</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="pp_parsetext-code.html" title="Chromocoded source">Source</a> <a href="pp_parsetext.pro" title=".pro file"><img src="idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
          <a href="categories.html">Categories</a>
        </td>
    
        <td >
          <a href="search.html">Search</a>
        </td>
    
        
        <td >
          <a href="idldoc-index.html">Index</a>
        </td>
        
    
        
        <td >
          <a href="idldoc-warnings.html">Warnings</a>
        </td>
        
    
        <td >
          <a href="idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          Developer documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">./</h2>
      <h1 class="basename">pp_parsetext.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      
      <div>
        <h2>Routines</h2>
        

      

      

      
      </div>
      

      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="pp_parsetext">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="pp_parsetext-code.html#pp_parsetext:source" class="top">source</a> pp_parsetext<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code><span class="var">result</span> = pp_parsetext(<span class="argument"><a href="#pp_parsetext:p:file">file</a></span><span class="argument"> [, <a href="#pp_parsetext:k:header">header</a>=<span class="var">header</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:lines">lines</a>=<span class="var">lines</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:splitlines">splitlines</a>=<span class="var">splitlines</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:as_struct">as_struct</a>=<span class="var">as_struct</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:fieldnames">fieldnames</a>=<span class="var">fieldnames</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:types">types</a>=<span class="var">types</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:trim">trim</a>=<span class="var">trim</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:spacedelimited">spacedelimited</a>=<span class="var">spacedelimited</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:skipblank">skipblank</a>=<span class="var">skipblank</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:delimiter">delimiter</a>=<span class="var">delimiter</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:stripquotes">stripquotes</a>=<span class="var">stripquotes</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:isinteger">isinteger</a>=<span class="var">isinteger</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:isfloat">isfloat</a>=<span class="var">isfloat</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:missingint">missingint</a>=<span class="var">missingint</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:missingfloat">missingfloat</a>=<span class="var">missingfloat</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:blank">blank</a>=<span class="var">blank</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:buffer">buffer</a>=<span class="var">buffer</span>]</span><span class="argument"> [, <a href="#pp_parsetext:k:nheader">nheader</a>=<span class="var">nheader</span>]</span>)</code></p>

          
          <div ><p>    Parses table data in a text file (or text array) as an array, with multiple options to specify different
    file formats and processing to be applied to the file. The output can be a string array or an
    array of structures.
</p>

<p></p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="pp_parsetext:p:file">file <span class="smaller">in required </span></dt>
              <dd class="small"><p>    A string with the file name to read. If <a href="./pp_parsetext.html#pp_parsetext:k:buffer"><code>buffer</code></a> is set, this should be a string
    array, where each element correponds to what would be a file line.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="pp_parsetext:k:header">header <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      The header line(s) from the text file, unparsed. The number of header lines
      is set by <a href="./pp_parsetext.html#pp_parsetext:k:nheader"><code>nheader</code></a>.
</p>

</dd>
              
              <dt id="pp_parsetext:k:lines">lines <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      A string array, with one element per line in the input file.
</p>

</dd>
              
              <dt id="pp_parsetext:k:splitlines">splitlines <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      A list where each element is a string array corresponding to one line of the
      input file. Each element in the array is one column from that file line.
</p>

</dd>
              
              <dt id="pp_parsetext:k:as_struct">as_struct <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      If set, the output is an array of structures, one structure per input line.
</p>

</dd>
              
              <dt id="pp_parsetext:k:fieldnames">fieldnames <span class="smaller">in out optional </span></dt>
              <dd class="small"><p>      The names for the structure fields returned when <a href="./pp_parsetext.html#pp_parsetext:k:as_struct"><code>as_struct</code></a> is set.
      If this is not given, field names are taken from the last line of the file header
</p>

</dd>
              
              <dt id="pp_parsetext:k:types">types <span class="smaller">in out optional </span></dt>
              <dd class="small"><p>      A hash containing type specifications for each of the structure fields to be created
      when <a href="./pp_parsetext.html#pp_parsetext:k:as_struct"><code>as_struct</code></a> is set. If not given, it will be determined by guessing from the
      file's column contents.
</p>

</dd>
              
              <dt id="pp_parsetext:k:trim">trim <span class="smaller">in optional default=2</span></dt>
              <dd class="small"><p>      Determines the type of leading/trailing trimming to be applied to the file lines. It is
      passed to strtrim, which is applied to all file lines.
</p>

</dd>
              
              <dt id="pp_parsetext:k:spacedelimited">spacedelimited <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      If set, the columns are assumed to be separated by any positive number of blank
      spaces. If not set, the columns are assumed to be fixed length, equal to the
      lengths used in the header line.
</p>

</dd>
              
              <dt id="pp_parsetext:k:skipblank">skipblank <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      If set, blank lines in the file are skipped.
</p>

</dd>
              
              <dt id="pp_parsetext:k:delimiter">delimiter <span class="smaller">in optional </span></dt>
              <dd class="small"><p>      The character(s) used as column delimiter in the file (the columns are split
      with strplit). If not given, the input columns are assumed to be separated by blank space.
</p>

</dd>
              
              <dt id="pp_parsetext:k:stripquotes">stripquotes <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      If set, table elements enclosed in quotes will have the quotes removed.
</p>

</dd>
              
              <dt id="pp_parsetext:k:isinteger">isinteger <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      If provided, will return a list, with one element per column of the file. Each element
      is an array that informs whether the corresponding column element in the input is an integer.
      Most often used for debugging and finding anomalous values in the input.
</p>

</dd>
              
              <dt id="pp_parsetext:k:isfloat">isfloat <span class="smaller">out optional </span></dt>
              <dd class="small"><p>      If provided, will return a list, with one element per column of the file. Each element
      is an array that informs whether the corresponding column element in the input is a float.
      Most often used for debugging and finding anomalous values in the input.
</p>

</dd>
              
              <dt id="pp_parsetext:k:missingint">missingint <span class="smaller">in optional </span></dt>
              <dd class="small"><p>      If provided, any missing values in columns with integers will be filled with this value.
</p>

</dd>
              
              <dt id="pp_parsetext:k:missingfloat">missingfloat <span class="smaller">in optional </span></dt>
              <dd class="small"><p>      If provided, any missing values in columns with floats will be filled with this value.
</p>

</dd>
              
              <dt id="pp_parsetext:k:blank">blank <span class="smaller">in optional </span></dt>
              <dd class="small"><p>      Passed to <a href="./pp_isnumber.html#pp_isnumber"><code>pp_isnumber</code></a>. If set, blank strings are considered valid numbers.
</p>

</dd>
              
              <dt id="pp_parsetext:k:buffer">buffer <span class="smaller">in optional default=0</span></dt>
              <dd class="small"><p>      If set, the first argument (<a href="./pp_parsetext.html#pp_parsetext:p:file"><code>file</code></a>) is taken as a string array of the file contents,
      instead of a file name to be read.
</p>

</dd>
              
              <dt id="pp_parsetext:k:nheader">nheader <span class="smaller">in optional default=1</span></dt>
              <dd class="small"><p>      The number of header lines contained in the file. If <a href="./pp_parsetext.html#pp_parsetext:k:as_struct"><code>as_struct</code></a> is set and
      field names are not provided, the last line on the header is used to determine
      column names.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Examples</h3>
          <div><p>    Read some example files provided with IDL, as structures:
<div><div><code class="listing"><span class="code-output"> file=filepath('ascii.txt',subdirectory=['examples','data'])</span>
<span class="code-output"> a=pp_parsetext(file,/skipblank,nheader=4,header=header,delimiter=',',$</span>
<span class="code-output"> /as_struct,fieldnames=['lon','lat','el','temp','dew','speed','dir'])</span>
<span class="code-output"> help,a</span>
<span class="code-output"> ;A               STRUCT    = -&gt; &lt;Anonymous&gt; Array[15]</span>
<span class="code-output"> ;help,a[0]</span>
<span class="code-output"> ;** Structure &lt;4023e918&gt;, 7 tags, length=56, data length=56, refs=2:</span>
<span class="code-output"> ;LON             DOUBLE          -156.95000</span>
<span class="code-output"> ;LAT             DOUBLE           20.783300</span>
<span class="code-output"> ;EL              LONG64                       399</span>
<span class="code-output"> ;TEMP            LONG64                        68</span>
<span class="code-output"> ;DEW             LONG64                        64</span>
<span class="code-output"> ;SPEED           LONG64                        10</span>
<span class="code-output"> ;DIR             LONG64                        60</span>
<span class="code-output"> print,header</span>
<span class="code-output"> ;This file contains ASCII format weather data in a comma delimited table with comments prefaced by the "%" character. The columns represent:</span>
<span class="code-output"> ;Longitude, latitude, elevation (in feet), temperature (in degrees F),  dew point (in degrees  F), wind speed (knots), wind direction (degrees)</span>
</code></div></div></p>

</div>
          

          
          <h3>Author information</h3>

            <dl class="attribute small" summary="Routine author information">
              
                <dt>Author:</dt>
                <dd><p>Paulo Penteado (http://www.ppenteado.net), Mar/2015
</p>

<p></p>

</dd>
              

              

              

              
            </dl>
          

          
          <h3>Other attributes</h3>

            <dl class="attribute small" summary="Other routine attributes">
              
                <dt>Todo:</dt>
                <dd><p>   Expand documentation, with more examples. This function has received many options
   to be capable of parsing different kinds of text files I encounter, which means
   its options make for a large variety of possibilities in file formats.
</p>

<p></p>

</dd>
              

              

              
                <dt>Requires:</dt>
                <dd><p><a href="./pp_isnumber.html#pp_isnumber"><code>pp_isnumber</code></a>, <a href="./pp_readtxt.html#pp_readtxt"><code>pp_readtxt</code></a>
</p>

<p></p>

</dd>
              

              

              

              

              

              
            </dl>
          

          
          <h3>Statistics</h3>

            <table class="attribute small" summary="Routine statistics">
              <tr>
                <td class="name">Lines:</td>
                <td><div class="box green"></div> 73 lines</td>
              </tr>

              <tr>
                <td class="name">Cyclomatic complexity:</td>
                <td><div class="box red"></div> 30</td>
                <tr>
                  <td class="name">Modified cyclomatic complexity:</td>
                  <td><div class="box red"></div> 27</td>
              </tr>
            </table>
          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Wed Jun 29 22:15:28 2016</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>73</td>
          </tr>

          
          <tr>
            <td class="name">Docformat:</td>
            <td>rst rst</td>
          </tr>
          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.6.1 on Tue May 16 12:42:27 2017</td>
          <td class="right"><a target="_top" href="http://github.com/mgalloy/idldoc">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>